# Unity-MVP-with-Vcontainer
プロジェクトの概要や目的を簡潔に説明します。

# 概要
このプロジェクトは、Unity環境においてVContainerを利用したMVP（Model-View-Presenter）アーキテクチャの実装方法を紹介するためのサンプルプロジェクトです。

MVPは、ソフトウェア開発におけるモジュール性とテスト容易性を向上させるための設計パターンです。このプロジェクトでは、VContainerという依存性注入（DI）フレームワークを利用して、MVPパターンを実現します。

以下は、プロジェクトの主な機能とモジュールの説明です：

- RootLifeTimeScope.cs: プロジェクトのルートライフタイムスコープとして、ProjectSettingやGameManagerなどの基盤に必要なモジュールを登録します。
- SceneLoader.cs: シーンのロードとシーン間の遷移を管理します。SingleシーンやAdditiveシーン遷移の処理をサポートし、Waterfall的に親子関係を構築します。
- HistoryManager.cs: シーンのロード履歴を保持し、シーン遡りの機能を提供します。過去のシーンに戻ることができます。
- 各シーンのMVPLifeTimeScope.cs: 各シーンごとに作成されるMVPLifeTimeScopeクラスです。各シーンのModel、View、Presenterのインスタンスを管理し、依存関係の解決を行います。
- シーンテンプレートの作成機能: Sceneテンプレートを利用して、新しいシーン用のMVPLifeTimeScopeクラスや関連するクラスを簡単に作成できます。
  
SceneLoaderクラスは、シーンのロード時に親子関係を構築するための機能を提供します。この機能を利用することで、シーンの構成を柔軟に管理することができます。

通常、Unityではシーンを単独でロードする場合と、既にロードされているシーンに追加してロードするAdditiveモードがあります。SceneLoaderクラスでは、これらのシーンロードモードに応じて親子関係を構築します。

シーンがSingleモードでロードされた場合、RootLifetimeScopeが親となります。これにより、プロジェクトの基盤となるRootLifetimeScope以下のオブジェクトがシーンの親になります。この親子関係により、シーン内のオブジェクトはRootLifetimeScopeにアクセスし、依存関係を解決することができます。

一方、シーンがAdditiveモードでロードされた場合、最後にロードされたシーンが親となります。これにより、シーンはWaterfallのように重ねられ、親シーンに依存する形で配置されます。この仕組みにより、シーン間での情報の受け渡しや共有が容易になります。

SceneLoaderクラスは、シーンのロード時に自動的に親子関係を構築するため、開発者は手動で親子関係を設定する手間を省くことができます。また、シーンの切り替えや追加に伴う親子関係の管理も容易になります。

これにより、MVPアーキテクチャや他の機能と組み合わせて、柔軟かつ効率的なシーン管理を実現することができます。

# 環境
プロジェクトを実行するために必要な環境や依存関係を記述します。

Unity 2022.3.4f1
VContainer 1.11.1


# Unityエディタでプロジェクトを開きます。

1. 各シーンに対して、MVPLifeTimeScopeクラスを作成し、Model、View、Presenterを登録します。依存関係を解決するためにVContainerを使用します。

2. Presenterを介してModelとViewを連携させます。Presenterは外部のイベントからデータを受け取り、Modelで処理し、Viewの更新を行います。

3. シーン間の遷移にはSceneLoaderクラスを使用します。シーンを追加する場合は、ロード時に親子関係を構築されます。

4. シーンの遷移履歴を管理するには、HistoryManagerクラスを使用します。過去のシーンに戻ることができます。

5. シーンテンプレートを作成する場合は、Sceneテンプレート機能を使用してMVPLifeTimeScopeクラスや関連するクラスを簡単に作成できます。

6. プロジェクトの特定の機能や操作方法があれば追記します。
